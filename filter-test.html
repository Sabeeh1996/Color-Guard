<!DOCTYPE html>
<html>
<head>
  <title>Direct Filter Test</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      padding: 40px;
      line-height: 1.8;
    }
    h1 { color: #333; }
    p { color: #666; font-size: 16px; }
    .test-box {
      padding: 20px;
      margin: 20px 0;
      border: 2px solid #ddd;
    }
  </style>
</head>
<body>
  <h1>Direct CSS Filter Test</h1>
  
  <div class="test-box">
    <p>This is normal text. Click the buttons below to test CSS filters directly.</p>
    <p>If the filters work, you'll see immediate changes to this text.</p>
  </div>
  
  <button onclick="testHighContrast()">Apply High Contrast (2.5x)</button>
  <button onclick="testHueShift()">Apply Hue Shift (90Â°)</button>
  <button onclick="clearFilters()">Clear All Filters</button>
  <button onclick="checkExtension()">Check ColorGuard Extension</button>
  
  <div id="status" style="margin-top: 20px; padding: 15px; background: #f0f0f0; border-radius: 5px;">
    <strong>Status:</strong> <span id="statusText">Ready</span>
  </div>
  
  <script>
    function testHighContrast() {
      document.documentElement.style.filter = 'contrast(2.5) brightness(1.1)';
      document.documentElement.style.webkitFilter = 'contrast(2.5) brightness(1.1)';
      document.getElementById('statusText').textContent = 'High contrast applied! Text should be much darker.';
      console.log('Applied filter:', document.documentElement.style.filter);
    }
    
    function testHueShift() {
      document.documentElement.style.filter = 'hue-rotate(90deg) saturate(1.3)';
      document.documentElement.style.webkitFilter = 'hue-rotate(90deg) saturate(1.3)';
      document.getElementById('statusText').textContent = 'Hue shift applied! Colors should look different.';
      console.log('Applied filter:', document.documentElement.style.filter);
    }
    
    function clearFilters() {
      document.documentElement.style.filter = '';
      document.documentElement.style.webkitFilter = '';
      document.getElementById('statusText').textContent = 'Filters cleared.';
      console.log('Filters cleared');
    }
    
    function checkExtension() {
      const status = document.getElementById('statusText');
      const checks = [];
      
      checks.push('Chrome API: ' + (typeof chrome !== 'undefined' ? 'YES' : 'NO'));
      checks.push('ColorGuard loaded: ' + (typeof window.ColorGuardOverlay !== 'undefined' ? 'YES' : 'NO'));
      checks.push('Current filter: ' + (document.documentElement.style.filter || 'none'));
      checks.push('Overlay container: ' + (document.getElementById('colorguard-overlay') ? 'YES' : 'NO'));
      
      status.innerHTML = checks.join('<br>');
      
      console.log('=== Extension Check ===');
      checks.forEach(check => console.log(check));
      console.log('======================');
    }
    
    // Auto-check on load
    setTimeout(() => {
      console.log('Test page loaded. Click buttons to test filters.');
      checkExtension();
    }, 1000);
  </script>
</body>
</html>
